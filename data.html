<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 10 Package data | Bioconductor Packages: Development, Maintenance, and Peer Review</title>
<meta name="author" content="Kevin Rue-Albrecht">
<meta name="author" content="Daniela Cassol">
<meta name="author" content="Johannes Rainer">
<meta name="author" content="Lori Shepherd">
<meta name="description" content="When developing a software package, an excellent practice is to give a comprehensive illustration of the methods in the package using an existing experiment data package, annotation data or data...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 10 Package data | Bioconductor Packages: Development, Maintenance, and Peer Review">
<meta property="og:type" content="book">
<meta property="og:description" content="When developing a software package, an excellent practice is to give a comprehensive illustration of the methods in the package using an existing experiment data package, annotation data or data...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 10 Package data | Bioconductor Packages: Development, Maintenance, and Peer Review">
<meta name="twitter:description" content="When developing a software package, an excellent practice is to give a comprehensive illustration of the methods in the package using an existing experiment data package, annotation data or data...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Bioconductor Packages: Development, Maintenance, and Peer Review</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About Bioconductor</a></li>
<li class="book-part">Package Development Guidelines</li>
<li><a class="" href="develop-overview.html">Overview</a></li>
<li><a class="" href="package-name.html"><span class="header-section-number">1</span> Package name</a></li>
<li><a class="" href="general.html"><span class="header-section-number">2</span> General Package Development</a></li>
<li><a class="" href="use-devel.html"><span class="header-section-number">3</span> Using the ‘Devel’ Version of Bioconductor</a></li>
<li><a class="" href="description.html"><span class="header-section-number">4</span> The DESCRIPTION file</a></li>
<li><a class="" href="biocviews-1.html"><span class="header-section-number">5</span> biocViews</a></li>
<li><a class="" href="version-numbering.html"><span class="header-section-number">6</span> Version Numbering</a></li>
<li><a class="" href="namespace.html"><span class="header-section-number">7</span> The NAMESPACE file</a></li>
<li><a class="" href="news.html"><span class="header-section-number">8</span> The NEWS file</a></li>
<li><a class="" href="citation.html"><span class="header-section-number">9</span> The CITATION file</a></li>
<li><a class="active" href="data.html"><span class="header-section-number">10</span> Package data</a></li>
<li><a class="" href="docs.html"><span class="header-section-number">11</span> Documentation</a></li>
<li><a class="" href="tests.html"><span class="header-section-number">12</span> Unit tests</a></li>
<li><a class="" href="long-tests.html"><span class="header-section-number">13</span> Long Tests</a></li>
<li><a class="" href="troubleshooting-build-report.html"><span class="header-section-number">14</span> Troubleshooting Build Report</a></li>
<li><a class="" href="r-code.html"><span class="header-section-number">15</span> R code</a></li>
<li><a class="" href="common-bioconductor-methods-and-classes.html"><span class="header-section-number">16</span> Common Bioconductor Methods and Classes</a></li>
<li><a class="" href="robust-and-efficient-code.html"><span class="header-section-number">17</span> Robust and Efficient Code</a></li>
<li><a class="" href="c-fortran.html"><span class="header-section-number">18</span> C and Fortran code</a></li>
<li><a class="" href="cmavericks-best-practices.html"><span class="header-section-number">19</span> C++/Mavericks Best Practices</a></li>
<li><a class="" href="debugging-cc-code.html"><span class="header-section-number">20</span> Debugging C/C++ code</a></li>
<li><a class="" href="querying-web-resources.html"><span class="header-section-number">21</span> Querying Web Resources</a></li>
<li><a class="" href="third-party-code.html"><span class="header-section-number">22</span> Third-party code</a></li>
<li><a class="" href="workflow-packages.html"><span class="header-section-number">23</span> Workflow Packages</a></li>
<li><a class="" href="shiny.html"><span class="header-section-number">24</span> Shiny apps</a></li>
<li><a class="" href="non-software.html"><span class="header-section-number">25</span> Non-Software Packages</a></li>
<li><a class="" href="package-end-of-life-policy.html"><span class="header-section-number">26</span> Package End of Life Policy</a></li>
<li><a class="" href="gitignore.html"><span class="header-section-number">27</span> The .gitignore file</a></li>
<li><a class="" href="git-version-control.html"><span class="header-section-number">28</span> Git Version Control</a></li>
<li><a class="" href="conclusion.html"><span class="header-section-number">29</span> Conclusion</a></li>
<li><a class="" href="references-1.html">References</a></li>
<li class="book-part">Package Submissions</li>
<li><a class="" href="software-package-submissions.html"><span class="header-section-number">30</span> Software Package Submissions</a></li>
<li class="book-part">Package Reviewer Resources</li>
<li><a class="" href="reviewer-resources-overview.html">Overview</a></li>
<li><a class="" href="review-expectation.html"><span class="header-section-number">31</span> Review Expectations</a></li>
<li><a class="" href="reviewtools.html"><span class="header-section-number">32</span> Reviewer Resources and Tools</a></li>
<li><a class="" href="review-volunteer-chapter.html"><span class="header-section-number">33</span> Volunteer to Review</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="booknews.html"><span class="header-section-number">A</span> NEWS</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/Bioconductor/pkgrevdocs">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="data" class="section level1" number="10">
<h1>
<span class="header-section-number">10</span> Package data<a class="anchor" aria-label="anchor" href="#data"><i class="fas fa-link"></i></a>
</h1>
<p>When developing a software package, an excellent practice is to give a comprehensive illustration of the methods in the package using an existing <a href="https://bioconductor.org/packages/release/BiocViews.html#___ExperimentData">experiment data package</a>, annotation data or data in the <em><a href="https://bioconductor.org/packages/3.15/ExperimentHub">ExperimentHub</a></em> or <em><a href="https://bioconductor.org/packages/3.15/AnnotationHub">AnnotationHub</a></em>, or submitting new data to those resources yourself.</p>
<p>If existing data is not available or applicable, or a new smaller dataset is needed for examples in the package, data can be included either as a separate data package (for larger amounts of data) or within the package (for smaller datasets).</p>
<p>The Bioconductor Build system does not support git-lfs. This is not a current
option for storing large data. Large data sets must be included through the <a href="https://bioconductor.org/packages/release/bioc/vignettes/ExperimentHub/inst/doc/CreateAnExperimentHubPackage.html">ExperimentHub</a>.</p>
<div id="experiment-data-package" class="section level2" number="10.1">
<h2>
<span class="header-section-number">10.1</span> Experiment Data Package<a class="anchor" aria-label="anchor" href="#experiment-data-package"><i class="fas fa-link"></i></a>
</h2>
<p>Experimental data packages contain data specific to a particular analysis or experiment.
They often accompany a software package for use in the examples and vignettes and in general are not updated regularly. If you need a general subset of data for workflows or examples first check the <em><a href="https://bioconductor.org/packages/3.15/AnnotationHub">AnnotationHub</a></em> resource for available files (e.g., BAM, FASTA, BigWig, etc.).</p>
<p><a href="https://bioconductor.org/"><em>Bioconductor</em></a> strongly encourages creating an
experiment data package that utilizes <em><a href="https://bioconductor.org/packages/3.15/ExperimentHub">ExperimentHub</a></em> or
<em><a href="https://bioconductor.org/packages/3.15/AnnotationHub">AnnotationHub</a></em> (See <a href="https://bioconductor.org/packages/release/bioc/vignettes/ExperimentHub/inst/doc/CreateAnExperimentHubPackage.html">Creating an Experiment Hub
Package</a>
or <a href="https://bioconductor.org/packages/release/bioc/vignettes/AnnotationHub/inst/doc/CreateAnAnnotationPackage.html">Creating an Annotation Hub
Package</a>)
but a traditional package that encapsulates the data is also acceptable.</p>
<p>See the <a href="https://www.bioconductor.org/developers/package-submission/">Package Submission guidelines</a> for submitting related packages.</p>
</div>
<div id="adding-data-to-existing-package" class="section level2" number="10.2">
<h2>
<span class="header-section-number">10.2</span> Adding Data to Existing Package<a class="anchor" aria-label="anchor" href="#adding-data-to-existing-package"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://bioconductor.org/"><em>Bioconductor</em></a> strongly encourages the use of existing datasets, but if not available data can be included directly in the package for use in the examples found in man pages, vignettes, and tests of your package.
This is a good reference by <a href="http://r-pkgs.had.co.nz/data.html">Hadley Wickham about data</a>.</p>
<p>However, as mentioned in <a href="the-description-file.html#lazydata">The DESCRIPTION file</a> chapter, <a href="https://bioconductor.org/"><em>Bioconductor</em></a> does not encourage using <code>LazyData: True</code> despite its recommendataion in this article.</p>
<p>Some key points are summarized in the following sections.</p>
<div id="exported-data-and-the-data-directory" class="section level3" number="10.2.1">
<h3>
<span class="header-section-number">10.2.1</span> Exported Data and the <code>data/</code> directory<a class="anchor" aria-label="anchor" href="#exported-data-and-the-data-directory"><i class="fas fa-link"></i></a>
</h3>
<p>Data in <code>data/</code> is exported to the user and readily available.
It is made available in an <i class="fab fa-r-project"></i> session through the use of <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code>.
It will require documentation concerning its creation and source information.
It is most often a <code>.RData</code> file created with <code><a href="https://rdrr.io/r/base/save.html">save()</a></code> but other types are acceptable as well, see <code>?data()</code>.</p>
<p>Please remember to compress the data.</p>
</div>
<div id="raw-data-and-the-instextdata-directory" class="section level3" number="10.2.2">
<h3>
<span class="header-section-number">10.2.2</span> Raw Data and the <code>inst/extdata/</code> directory<a class="anchor" aria-label="anchor" href="#raw-data-and-the-instextdata-directory"><i class="fas fa-link"></i></a>
</h3>
<p>It is often desirable to show a workflow which involves the parsing or loading of raw files.
<a href="https://bioconductor.org/"><em>Bioconductor</em></a> recommends finding existing raw data already provided in another package or the hubs.</p>
<p>However, if this is not applicable, raw data files should be included in the <code>inst/extdata</code> directory.
Files of these type are often accessed utilizing <code><a href="https://rdrr.io/r/base/system.file.html">system.file()</a></code>.
<a href="https://bioconductor.org/"><em>Bioconductor</em></a> requires documentation on these files in an <code>inst/script/</code> directory.</p>
</div>
<div id="internal-data" class="section level3" number="10.2.3">
<h3>
<span class="header-section-number">10.2.3</span> Internal data<a class="anchor" aria-label="anchor" href="#internal-data"><i class="fas fa-link"></i></a>
</h3>
<p>Rarely, a package may require parsed data that is used internal but should not be exported to the user.
An <code>R/sysdata.rda</code> is often the best place to include this type of data.</p>
</div>
<div id="other-data" class="section level3" number="10.2.4">
<h3>
<span class="header-section-number">10.2.4</span> Other data<a class="anchor" aria-label="anchor" href="#other-data"><i class="fas fa-link"></i></a>
</h3>
<p>Downloads of files and external data from the web should be avoided.</p>
<p>If it is necessary, at minimum the files should be cached.
See <em><a href="https://bioconductor.org/packages/3.15/BiocFileCache">BiocFileCache</a></em> for Bioconductor recommended package for caching of files.
If a maintainer creates their own caching directory, it should utilize standard
caching directories <code>tools::R_user_dir(package, which="cache")</code>. It is not
allowed to download or write any files to a users home directory or working
directory. Files should be cached as stated above with <code>BiocFileCache</code> (preferred)
or <code>R_user_dir</code> or <code>tempdir()/tempfile()</code> if files should not be persistent.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="citation.html"><span class="header-section-number">9</span> The CITATION file</a></div>
<div class="next"><a href="docs.html"><span class="header-section-number">11</span> Documentation</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#data"><span class="header-section-number">10</span> Package data</a></li>
<li><a class="nav-link" href="#experiment-data-package"><span class="header-section-number">10.1</span> Experiment Data Package</a></li>
<li>
<a class="nav-link" href="#adding-data-to-existing-package"><span class="header-section-number">10.2</span> Adding Data to Existing Package</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#exported-data-and-the-data-directory"><span class="header-section-number">10.2.1</span> Exported Data and the data/ directory</a></li>
<li><a class="nav-link" href="#raw-data-and-the-instextdata-directory"><span class="header-section-number">10.2.2</span> Raw Data and the inst/extdata/ directory</a></li>
<li><a class="nav-link" href="#internal-data"><span class="header-section-number">10.2.3</span> Internal data</a></li>
<li><a class="nav-link" href="#other-data"><span class="header-section-number">10.2.4</span> Other data</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/Bioconductor/pkgrevdocs/blob/master/07-data.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/Bioconductor/pkgrevdocs/edit/master/07-data.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Bioconductor Packages: Development, Maintenance, and Peer Review</strong>" was written by Kevin Rue-Albrecht, Daniela Cassol, Johannes Rainer, Lori Shepherd. It was last built on 2021-10-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
