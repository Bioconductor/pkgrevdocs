<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 23 Workflow Packages | Bioconductor Packages: Development, Maintenance, and Peer Review</title>
<meta name="author" content="Kevin Rue-Albrecht">
<meta name="author" content="Daniela Cassol">
<meta name="author" content="Johannes Rainer">
<meta name="author" content="Lori Shepherd">
<meta name="description" content="The main focus of a workflow package is the vignette!  23.1 What is a workflow vignette? Workflow vignettes are documents which describe a bioinformatics workflow that involves multiple...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 23 Workflow Packages | Bioconductor Packages: Development, Maintenance, and Peer Review">
<meta property="og:type" content="book">
<meta property="og:description" content="The main focus of a workflow package is the vignette!  23.1 What is a workflow vignette? Workflow vignettes are documents which describe a bioinformatics workflow that involves multiple...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 23 Workflow Packages | Bioconductor Packages: Development, Maintenance, and Peer Review">
<meta name="twitter:description" content="The main focus of a workflow package is the vignette!  23.1 What is a workflow vignette? Workflow vignettes are documents which describe a bioinformatics workflow that involves multiple...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Bioconductor Packages: Development, Maintenance, and Peer Review</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Package Development Guidelines</li>
<li><a class="" href="develop-overview.html">Overview</a></li>
<li><a class="" href="package-name.html"><span class="header-section-number">1</span> Package name</a></li>
<li><a class="" href="general.html"><span class="header-section-number">2</span> General Package Development</a></li>
<li><a class="" href="use-devel.html"><span class="header-section-number">3</span> Using the ‘Devel’ Version of Bioconductor</a></li>
<li><a class="" href="description.html"><span class="header-section-number">4</span> The DESCRIPTION file</a></li>
<li><a class="" href="biocviews-1.html"><span class="header-section-number">5</span> biocViews</a></li>
<li><a class="" href="version-numbering.html"><span class="header-section-number">6</span> Version Numbering</a></li>
<li><a class="" href="namespace.html"><span class="header-section-number">7</span> The NAMESPACE file</a></li>
<li><a class="" href="news.html"><span class="header-section-number">8</span> The NEWS file</a></li>
<li><a class="" href="citation.html"><span class="header-section-number">9</span> The CITATION file</a></li>
<li><a class="" href="data.html"><span class="header-section-number">10</span> Package data</a></li>
<li><a class="" href="docs.html"><span class="header-section-number">11</span> Documentation</a></li>
<li><a class="" href="tests.html"><span class="header-section-number">12</span> Unit tests</a></li>
<li><a class="" href="long-tests.html"><span class="header-section-number">13</span> Long Tests</a></li>
<li><a class="" href="troubleshooting-build-report.html"><span class="header-section-number">14</span> Troubleshooting Build Report</a></li>
<li><a class="" href="r-code.html"><span class="header-section-number">15</span> R code</a></li>
<li><a class="" href="common-bioconductor-methods-and-classes.html"><span class="header-section-number">16</span> Common Bioconductor Methods and Classes</a></li>
<li><a class="" href="robust-and-efficient-code.html"><span class="header-section-number">17</span> Robust and Efficient Code</a></li>
<li><a class="" href="c-fortran.html"><span class="header-section-number">18</span> C and Fortran code</a></li>
<li><a class="" href="cmavericks-best-practices.html"><span class="header-section-number">19</span> C++/Mavericks Best Practices</a></li>
<li><a class="" href="debugging-cc-code.html"><span class="header-section-number">20</span> Debugging C/C++ code</a></li>
<li><a class="" href="querying-web-resources.html"><span class="header-section-number">21</span> Querying Web Resources</a></li>
<li><a class="" href="third-party-code.html"><span class="header-section-number">22</span> Third-party code</a></li>
<li><a class="active" href="workflow-packages.html"><span class="header-section-number">23</span> Workflow Packages</a></li>
<li><a class="" href="shiny.html"><span class="header-section-number">24</span> Shiny apps</a></li>
<li><a class="" href="non-software.html"><span class="header-section-number">25</span> Non-Software Packages</a></li>
<li><a class="" href="package-end-of-life-policy.html"><span class="header-section-number">26</span> Package End of Life Policy</a></li>
<li><a class="" href="gitignore.html"><span class="header-section-number">27</span> The .gitignore file</a></li>
<li><a class="" href="git-version-control.html"><span class="header-section-number">28</span> Git Version Control</a></li>
<li><a class="" href="conclusion.html"><span class="header-section-number">29</span> Conclusion</a></li>
<li><a class="" href="references-1.html">References</a></li>
<li class="book-part">Package Submissions</li>
<li><a class="" href="software-package-submissions.html"><span class="header-section-number">30</span> Software Package Submissions</a></li>
<li class="book-part">Package Reviewer Resources</li>
<li><a class="" href="reviewer-resources-overview.html">Overview</a></li>
<li><a class="" href="review-expectation.html"><span class="header-section-number">31</span> Review Expectations</a></li>
<li><a class="" href="reviewtools.html"><span class="header-section-number">32</span> Reviewer Resources and Tools</a></li>
<li><a class="" href="review-volunteer-chapter.html"><span class="header-section-number">33</span> Volunteer to Review</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="booknews.html"><span class="header-section-number">A</span> NEWS</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/Bioconductor/pkgrevdocs">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="workflow-packages" class="section level1" number="23">
<h1>
<span class="header-section-number">23</span> Workflow Packages<a class="anchor" aria-label="anchor" href="#workflow-packages"><i class="fas fa-link"></i></a>
</h1>
<p>The main focus of a workflow package is the vignette!</p>
<div id="what-is-a-workflow-vignette" class="section level2" number="23.1">
<h2>
<span class="header-section-number">23.1</span> What is a workflow vignette?<a class="anchor" aria-label="anchor" href="#what-is-a-workflow-vignette"><i class="fas fa-link"></i></a>
</h2>
<p>Workflow vignettes are documents which describe a bioinformatics workflow that
involves multiple Bioconductor packages. These workflows are usually more
extensive than the vignettes that accompany individual Bioconductor packages.</p>
<p><a href="http://bioconductor.org/packages/devel/BiocViews.html#___Workflow">Existing Workflows</a></p>
<p>Workflow vignettes may deal with larger data sets and/or be more
computationally intensive than typical Bioconductor package vignettes. For this
reason, the automated builder that produces these vignettes does not have a
time limit (in contrast to the Bioconductor package building system which will
time out if package building takes too long). It is expected the majority of
vignette code chunks are evaluated.</p>
</div>
<div id="who-should-write-a-workflow-vignette" class="section level2" number="23.2">
<h2>
<span class="header-section-number">23.2</span> Who should write a workflow vignette?<a class="anchor" aria-label="anchor" href="#who-should-write-a-workflow-vignette"><i class="fas fa-link"></i></a>
</h2>
<p>Anyone who is a bioinformatics domain expert.</p>
</div>
<div id="how-do-i-write-and-submit-a-workflow-vignette" class="section level2" number="23.3">
<h2>
<span class="header-section-number">23.3</span> How do I write and submit a workflow vignette?<a class="anchor" aria-label="anchor" href="#how-do-i-write-and-submit-a-workflow-vignette"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Write a package with the same name as the workflow. The workflow vignette
written in Markdown, using the <a href="http://rmarkdown.rstudio.com/">rmarkdown</a>
package should be included in the vignette directory. You may include more
than one vignette but please use useful identifying names.</p></li>
<li><p>The package does not need man/ or R/ directories nor a data/ directory as
ideally workflows make use of existing data in a Bioconductor repository or
on the web; the workflow package itself should not contain large data files.</p></li>
<li><p>In the DESCRIPTION file, include the line “BiocType: Workflow.” Please also
include a detailed Description field in the DESCRIPTION file. The DESCRIPTION
file should contain biocViews which should be from the <a href="http://bioconductor.org/packages/devel/BiocViews.html#___Workflow">Workflow
branch</a>.
If you think a new term is relevant please reach out to
<a href="mailto:lori.shepherd@roswellpark.org" class="email">lori.shepherd@roswellpark.org</a>.</p></li>
<li><p>Submit the package to the <a href="https://github.com/Bioconductor/Contributions">GitHub submission
tracker</a> for a formal
review. Please also indicate in the tracker issue that this package is a
workflow.</p></li>
<li><p>Workflows are git version controlled. Once the package is accepted it will be
added to our git repository at <a href="mailto:git@git.bioconductor.org" class="email">git@git.bioconductor.org</a> and instructions will
be sent for gaining access for maintainence.</p></li>
</ul>
</div>
<div id="consistent-formatting" class="section level2" number="23.4">
<h2>
<span class="header-section-number">23.4</span> Consistent formatting<a class="anchor" aria-label="anchor" href="#consistent-formatting"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<p>In an effort to standardize the workflow vignette format, it is strongly
encouraged to use either BiocStyle for formatting or utilize
<a href="http://bioconductor.org/packages/BiocWorkflowTools/">BiocWorkflowTools</a>.
The following header shows how to use BiocStyle in the vignette:</p>
<pre><code>output:
    BiocStyle::html_document</code></pre>
</li>
<li>
<p>The following should also be include</p>
<pre><code>- author affiliations
- a date representing when the workflow vignette has been modified</code></pre>
</li>
<li>
<p>The first section should have some versioning information. The R version,
Bioconductor version, and package version should be visible.
The following is an example of how this could be achieved:</p>
<pre><code>**R version**: `r R.version.string`
**Bioconductor version**: `r BiocManager::version()`
**Package**: `r packageVersion('annotation')`</code></pre>
</li>
<li><p>An example start to a workflow vignette:</p></li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb91-1"><a href="workflow-packages.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb91-2"><a href="workflow-packages.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Workflow Vignette Title</span></span>
<span id="cb91-3"><a href="workflow-packages.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span></span>
<span id="cb91-4"><a href="workflow-packages.html#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co"> - name: Workflow Author</span></span>
<span id="cb91-5"><a href="workflow-packages.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co">   affiliation: Workflow Author Affiliation</span></span>
<span id="cb91-6"><a href="workflow-packages.html#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> `r format(Sys.time(), '%B %d, %Y')`</span></span>
<span id="cb91-7"><a href="workflow-packages.html#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="an">vignette:</span><span class="co"> &gt;</span></span>
<span id="cb91-8"><a href="workflow-packages.html#cb91-8" aria-hidden="true" tabindex="-1"></a><span class="co">  %\VignetteIndexEntry{Workflow Introduction}</span></span>
<span id="cb91-9"><a href="workflow-packages.html#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="co">  %\VignetteEngine{knitr::rmarkdown}</span></span>
<span id="cb91-10"><a href="workflow-packages.html#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="co">  %\VignetteEncoding{UTF-8}</span></span>
<span id="cb91-11"><a href="workflow-packages.html#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span></span>
<span id="cb91-12"><a href="workflow-packages.html#cb91-12" aria-hidden="true" tabindex="-1"></a><span class="co">    BiocStyle::html_document</span></span>
<span id="cb91-13"><a href="workflow-packages.html#cb91-13" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb91-14"><a href="workflow-packages.html#cb91-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-15"><a href="workflow-packages.html#cb91-15" aria-hidden="true" tabindex="-1"></a><span class="fu"># Version Info</span></span>
<span id="cb91-16"><a href="workflow-packages.html#cb91-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-17"><a href="workflow-packages.html#cb91-17" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=TRUE, results="hide", warning=FALSE, message=FALSE}</span></span>
<span id="cb91-18"><a href="workflow-packages.html#cb91-18" aria-hidden="true" tabindex="-1"></a><span class="in">library('BiocGenerics')</span></span>
<span id="cb91-19"><a href="workflow-packages.html#cb91-19" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb91-20"><a href="workflow-packages.html#cb91-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-21"><a href="workflow-packages.html#cb91-21" aria-hidden="true" tabindex="-1"></a>**R version**: <span class="in">`r R.version.string`</span></span>
<span id="cb91-22"><a href="workflow-packages.html#cb91-22" aria-hidden="true" tabindex="-1"></a>**Bioconductor version**: <span class="in">`r BiocManager::version()`</span></span>
<span id="cb91-23"><a href="workflow-packages.html#cb91-23" aria-hidden="true" tabindex="-1"></a>**Package**: <span class="in">`r packageVersion('BiocGenerics')`</span></span></code></pre></div>
</div>
<div id="tidying-package-loading-output" class="section level2" number="23.5">
<h2>
<span class="header-section-number">23.5</span> Tidying package loading output<a class="anchor" aria-label="anchor" href="#tidying-package-loading-output"><i class="fas fa-link"></i></a>
</h2>
<p>Most workflows load a number of packages and you do not want
the output of loading those packages to clutter your workflow
document. Here’s how you would solve this in RMarkdown. In Latex, you may
have to create two code chunks where one is evaluated and hidden and the other
is not and shown.</p>
<p>For RMarkdown, set up a code chunk with the following chunk options so that
the code is visible but the results are hidden. We also set <code>warning=FALSE</code> and
<code>message=FALSE</code> to be sure that no output from this chunk ends up in the
document:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb92-1"><a href="workflow-packages.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=TRUE, results="hide", warning=FALSE, message=FALSE}</span></span>
<span id="cb92-2"><a href="workflow-packages.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="in">library(GenomicRanges)</span></span>
<span id="cb92-3"><a href="workflow-packages.html#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="in">library(GenomicAlignments)</span></span>
<span id="cb92-4"><a href="workflow-packages.html#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="in">library(Biostrings)</span></span>
<span id="cb92-5"><a href="workflow-packages.html#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="in">library(Rsamtools)</span></span>
<span id="cb92-6"><a href="workflow-packages.html#cb92-6" aria-hidden="true" tabindex="-1"></a><span class="in">library(ShortRead)</span></span>
<span id="cb92-7"><a href="workflow-packages.html#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="in">library(BiocParallel)</span></span>
<span id="cb92-8"><a href="workflow-packages.html#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="in">library(rtracklayer)</span></span>
<span id="cb92-9"><a href="workflow-packages.html#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="in">library(VariantAnnotation)</span></span>
<span id="cb92-10"><a href="workflow-packages.html#cb92-10" aria-hidden="true" tabindex="-1"></a><span class="in">library(AnnotationHub)</span></span>
<span id="cb92-11"><a href="workflow-packages.html#cb92-11" aria-hidden="true" tabindex="-1"></a><span class="in">library(BSgenome.Hsapiens.UCSC.hg19)</span></span>
<span id="cb92-12"><a href="workflow-packages.html#cb92-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(RNAseqData.HNRNPC.bam.chr14)</span></span>
<span id="cb92-13"><a href="workflow-packages.html#cb92-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</div>
<div id="citations" class="section level2" number="23.6">
<h2>
<span class="header-section-number">23.6</span> Citations<a class="anchor" aria-label="anchor" href="#citations"><i class="fas fa-link"></i></a>
</h2>
<p>To manage citations in your workflow document,
specify the bibliography file in the document metadata header.</p>
<pre><code>bibliography: references.bib</code></pre>
<p>You can then use citation keys in the form of <code>@label</code> to cite an entry
with an identifier “label.”</p>
<p>Normally, you will want to end your document with a section header “References”
or similar, after which the bibliography will be appended.</p>
<p>For more details see the <a href="http://rmarkdown.rstudio.com/authoring_pandoc_markdown.html#citations">rmarkdown
documentation</a>.</p>
</div>
<div id="questions" class="section level2" number="23.7">
<h2>
<span class="header-section-number">23.7</span> Questions<a class="anchor" aria-label="anchor" href="#questions"><i class="fas fa-link"></i></a>
</h2>
<p>If you have any questions, please ask on the bioc-devel
<a href="https://bioconductor.org/help/mailing-list">mailing list</a>.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="third-party-code.html"><span class="header-section-number">22</span> Third-party code</a></div>
<div class="next"><a href="shiny.html"><span class="header-section-number">24</span> Shiny apps</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#workflow-packages"><span class="header-section-number">23</span> Workflow Packages</a></li>
<li><a class="nav-link" href="#what-is-a-workflow-vignette"><span class="header-section-number">23.1</span> What is a workflow vignette?</a></li>
<li><a class="nav-link" href="#who-should-write-a-workflow-vignette"><span class="header-section-number">23.2</span> Who should write a workflow vignette?</a></li>
<li><a class="nav-link" href="#how-do-i-write-and-submit-a-workflow-vignette"><span class="header-section-number">23.3</span> How do I write and submit a workflow vignette?</a></li>
<li><a class="nav-link" href="#consistent-formatting"><span class="header-section-number">23.4</span> Consistent formatting</a></li>
<li><a class="nav-link" href="#tidying-package-loading-output"><span class="header-section-number">23.5</span> Tidying package loading output</a></li>
<li><a class="nav-link" href="#citations"><span class="header-section-number">23.6</span> Citations</a></li>
<li><a class="nav-link" href="#questions"><span class="header-section-number">23.7</span> Questions</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/Bioconductor/pkgrevdocs/blob/master/12a-workflows.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/Bioconductor/pkgrevdocs/edit/master/12a-workflows.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Bioconductor Packages: Development, Maintenance, and Peer Review</strong>" was written by Kevin Rue-Albrecht, Daniela Cassol, Johannes Rainer, Lori Shepherd. It was last built on 2021-11-04.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
